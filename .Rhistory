(is.symbol(variable))
substitute(variable)
as.character(substitute(variable))
pipe_store <- function(.dat,variable,value)
{
if(is.character(variable))
variable.name <- variable
else if(is.symbol(variable))
variable.name <- as.character(substitute(variable))
else
variable.name <- as.character(variable)
return(variable.name)
#if(is.character(value))
#  value.name <- value
#else if(is.symbol(value))
#  value.name <- as.character(substitute(value))
#else
#  value.name <- as.character(value)
#
#  assign(variable.name,.dat[[value.name]],envir=parent.frame())
# return(.dat)
}
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
pipe_store <- function(.dat,variable,value)
{
if(is.character(variable))
variable.name <- variable
#else if(is.symbol(variable))
#  variable.name <- as.character(substitute(variable))
else
variable.name <- as.character(variable)
return(variable.name)
#if(is.character(value))
#  value.name <- value
#else if(is.symbol(value))
#  value.name <- as.character(substitute(value))
#else
#  value.name <- as.character(value)
#
#  assign(variable.name,.dat[[value.name]],envir=parent.frame())
# return(.dat)
}
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
pipe_store <- function(.dat,variable,value)
{
#if(is.character(variable))
#  variable.name <- variable
#else if(is.symbol(variable))
#  variable.name <- as.character(substitute(variable))
#else
variable.name <- as.character(variable)
return(variable.name)
#if(is.character(value))
#  value.name <- value
#else if(is.symbol(value))
#  value.name <- as.character(substitute(value))
#else
#  value.name <- as.character(value)
#
#  assign(variable.name,.dat[[value.name]],envir=parent.frame())
# return(.dat)
}
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
pipe_store <- function(.dat,variable,value)
{
#if(is.character(variable))
#  variable.name <- variable
#else if(is.symbol(variable))
variable.name <- as.character(substitute(variable))
#else
#  variable.name <- as.character(variable)
return(variable.name)
#if(is.character(value))
#  value.name <- value
#else if(is.symbol(value))
#  value.name <- as.character(substitute(value))
#else
#  value.name <- as.character(value)
#
#  assign(variable.name,.dat[[value.name]],envir=parent.frame())
# return(.dat)
}
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
tibble(iris) %>%
pipe_store("Petal_A","Petal.Area")
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
assign(variable.name,.dat[[value.name]],envir=parent.frame())
return(.dat)
}
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
Sepal_A
rm(list=ls())
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area) %>%
mutate(Petal.Area = Petal.Width*Petal.Length) %>%
pipe_store("Petal_A","Petal.Area")
#'
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
assign(variable.name,.dat[[value.name]],envir=parent.frame())
return(.dat)
}
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area) %>%
mutate(Petal.Area = Petal.Width*Petal.Length) %>%
pipe_store("Petal_A","Petal.Area")
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
#'
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame()
assign(variable.name,.dat[[value.name]],envir=parent.frame())
return(c.frame)
}
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
env_print(x)
x$`.`
x$Sepal_A
env_print(x)
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame(1)
assign(variable.name,.dat[[value.name]],envir=parent.frame())
return(c.frame)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
c.frame
x
env_print(x)
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame(2)
assign(variable.name,.dat[[value.name]],envir=parent.frame(2))
return(c.frame)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
x
env_print(x)
env_parents(x)
local(env_parents(x))
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame(1)
assign(variable.name,.dat[[value.name]],envir=parent.frame(1))
return(c.frame)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
x
env_parents(x)
parent.frame
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame(3)
assign(variable.name,.dat[[value.name]],envir=parent.frame(3))
return(c.frame)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
x
env_print(x)
env_parent(x)
env_parents(x)
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame()
assign(variable.name,.dat[[value.name]],envir=parent.frame())
return(c.frame)
}
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame()
assign(variable.name,.dat[[value.name]],envir=c.frame)
return(c.frame)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area) %>%
mutate(Petal.Area = Petal.Width*Petal.Length) %>%
pipe_store("Petal_A","Petal.Area")
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
x
env_print(x)
print.environment <- function(x) env_print(x)
x
class(x)
print(x)
x
format.environment <- function(x) env_print(x)
rm(print.environment())
rm(print.environment)
x
format(x)
x
rm(format.environment)
format(x)
x
print(x)
cat(x)
env_print(x)
?assign
as.environment()
as.environment(1)
as.environment(2)
as.environment(3)
as.environment(4)
as.environment(-1)
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame()
assign(variable.name,.dat[[value.name]])
return(c.frame)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
x
?as.environment
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- as.environment(-1)
assign(variable.name,.dat[[value.name]],envir = c.frame)
return(c.frame)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area) %>%
mutate(Petal.Area = Petal.Width*Petal.Length) %>%
pipe_store("Petal_A","Petal.Area")
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
x
env_print(x)
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- as.environment()
assign(variable.name,.dat[[value.name]],envir = c.frame)
return(c.frame)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- as.environment(1)
assign(variable.name,.dat[[value.name]],envir = c.frame)
return(c.frame)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area) %>%
mutate(Petal.Area = Petal.Width*Petal.Length) %>%
pipe_store("Petal_A","Petal.Area")
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- as.environment(1)
assign(variable.name,.dat[[value.name]],envir = c.frame)
return(.dat)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area) %>%
mutate(Petal.Area = Petal.Width*Petal.Length) %>%
pipe_store("Petal_A","Petal.Area")
f <- function(x)
{
x %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area) %>%
mutate(Petal.Area = Petal.Width*Petal.Length) %>%
pipe_store("Petal_A","Petal.Area")
return(Sepal_A)
}
f(tibble(iris))
rm(Sepal_A)
rm(Petal_A)
f <- function(x)
{
x %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area) %>%
mutate(Petal.Area = Petal.Width*Petal.Length) %>%
pipe_store("Petal_A","Petal.Area")
return(Sepal_A)
}
f(tibble(iris))
?as.environment
?parent.frame
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame()
assign(variable.name,.dat[[value.name]],envir = c.frame)
return(.dat)
}
rm(Sepal_A)
rm(Petal_A)
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame()
assign(variable.name,.dat[[value.name]],envir = c.frame)
return(.dat)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area) %>%
mutate(Petal.Area = Petal.Width*Petal.Length) %>%
pipe_store("Petal_A","Petal.Area")
f <- function(x)
{
x %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area) %>%
mutate(Petal.Area = Petal.Width*Petal.Length) %>%
pipe_store("Petal_A","Petal.Area")
return(Sepal_A)
}
f(tibble(iris))
?parent.frame()
env_print(parent.frame())
f <- function(x)
{
parent.frame()
}
f()
parent.frame()
f <- function(x)
{
parent.frame(1)
}
f()
parent.frame(1)
f <- function(x)
{
parent.frame(2)
}
f()
parent.frame(2)
?parent.frame
f <- function(x)
{
parent.frame(1)
}
g <- function()
{
f()
}
g()
env_parents(g())
env_print(g())
f <- function(x)
{
parent.frame(2)
}
g <- function()
{
f()
}
g()
?assign
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame(2)
assign(variable.name,.dat[[value.name]],envir = c.frame)
return(.dat)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame(3)
assign(variable.name,.dat[[value.name]],envir = c.frame)
return(.dat)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
View(`:=`)
?`:=`
:=(x,y)
pipe_store <- function(.dat,variable,value)
{
variable.name <- as.character(substitute(variable))
value.name <- as.character(substitute(value))
c.frame <- parent.frame(3)
eval(parse(text = paste(variable.name,"<<-",.dat[[value.name]])))
#assign(variable.name,.dat[[value.name]],envir = c.frame)
return(.dat)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
rm(Sepal_A)
f <- function()
{
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
}
f()
rm(Sepal_A)
f <- function()
{
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
return(Sepal_A)
}
f()
tibble(iris)
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length)
pipe_grab <- function(.dat,variable)
{
variable.name <- as.character(substitute(variable))
c.frame <- parent.frame(3)
assign(variable.name,.dat[[variable.name]],envir = c.frame)
return(.dat)
}
pipe_grab <- function(.dat,variable)
{
variable.name <- as.character(substitute(variable))
c.frame <- parent.frame(1)
assign(variable.name,.dat[[variable.name]],envir = c.frame)
return(.dat)
}
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
x
rm(Sepal_A)
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_store(Sepal_A,Sepal.Area)
rm(Sepal_A)
rm(petal_store)
rm(pipe_store)
x <- tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_grab(Sepal.Area)
x
tibble(iris) %>%
mutate(Sepal.Area = Sepal.Width*Sepal.Length) %>%
pipe_grab(Sepal.Area)
