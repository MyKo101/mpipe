<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adds extra functionality to pipelines • mpipe</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Adds extra functionality to pipelines">
<meta property="og:description" content="Add extra functionality to allow users to avoid
    breaking out of a pipeline.">
<meta property="og:image" content="https://michaelbarrowman.co.uk/mpipe/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mpipe</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MyKo101/mpipe/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="mpipe-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#mpipe-" class="anchor"></a>mpipe <img src="reference/figures/logo.png" align="right" height="139">
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>The <code>mpipe</code> package is designed to add to extra functionality to the “pipelining” of <code>tidyverse</code> style processes. When running a pipeline, it is common to break out of a pipeline to perform other actions, and then to commence a new pipeline. <code>mpipe</code> aims to permit a stronger use of pipelining, whilst reducing the need to break out. This piece of software is still under very active development and suggestions for improvements are welcome.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version of <code>mpipe</code> from <a href="https://github.com/MyKo101/mpipe">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="co"># install.packages("devtools")</span>
<span class="co"># devtools::install_github("MyKo101/mpipe")</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">mpipe</span>)</pre></div>
<p>The <code>mpipe</code> package is not currently available on CRAN.</p>
</div>
<div id="fseq" class="section level2">
<h2 class="hasAnchor">
<a href="#fseq" class="anchor"></a>fseq</h2>
<p>A little used feature of the <code>magrittr</code> package’s <code><a href="reference/pipe.html">%&gt;%</a></code> pipe is that is can be used to create functions. By using a <code>.</code> as the initial argument, the output will be a function and can be applied to other pieces of data. These kinds of functions are called <code>fseq</code> functions (short for functional sequences).</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="no">f</span> <span class="kw">&lt;-</span> <span class="no">.</span> <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">Species</span>) <span class="kw">%&gt;%</span>
  <span class="fu">summarise_all</span>(<span class="no">mean</span>)
<span class="no">f</span>
<span class="co">#&gt; Functional sequence with the following components:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  1. group_by(., Species)</span>
<span class="co">#&gt;  2. summarise_all(., mean)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Use 'functions' to extract the individual functions.</span></pre></div>
<p>The <code>mpipe</code> package includes a couple of extra things that can be done to these packages, including composition of <code>fseq</code> by adding them together</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="no">g</span> <span class="kw">&lt;-</span> <span class="no">.</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">Sepal.Length</span> <span class="kw">&gt;</span> <span class="fl">5.2</span>) <span class="kw">%&gt;%</span>
  <span class="fu">select</span>(<span class="no">Species</span>,<span class="no">Sepal.Length</span>,<span class="no">Sepal.Width</span>)
<span class="no">g</span>
<span class="co">#&gt; Functional sequence with the following components:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  1. filter(., Sepal.Length &gt; 5.2)</span>
<span class="co">#&gt;  2. select(., Species, Sepal.Length, Sepal.Width)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Use 'functions' to extract the individual functions.</span></pre></div>
<div class="sourceCode" id="cb4"><pre class="r"><span class="no">g</span>+<span class="no">f</span>
<span class="co">#&gt; Functional sequence with the following components:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  1. filter(., Sepal.Length &gt; 5.2)</span>
<span class="co">#&gt;  2. select(., Species, Sepal.Length, Sepal.Width)</span>
<span class="co">#&gt;  3. group_by(., Species)</span>
<span class="co">#&gt;  4. summarise_all(., mean)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Use 'functions' to extract the individual functions.</span></pre></div>
<div class="sourceCode" id="cb5"><pre class="r">(<span class="no">g</span>+<span class="no">f</span>)(<span class="no">iris</span>)
<span class="co">#&gt; # A tibble: 3 x 3</span>
<span class="co">#&gt;   Species    Sepal.Length Sepal.Width</span>
<span class="co">#&gt;   &lt;fct&gt;             &lt;dbl&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1 setosa             5.5         3.81</span>
<span class="co">#&gt; 2 versicolor         6.04        2.81</span>
<span class="co">#&gt; 3 virginica          6.62        2.98</span></pre></div>
<p>It also includes a <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> method for <code>fseq</code> which returns the number of elements in the functional sequence, as well as a pair of functions to check whether something is an <code>fseq</code>: <code><a href="reference/fseq_methods.html">is.fseq()</a></code> and <code><a href="reference/fseq_methods.html">is_fseq()</a></code> (depending on your own preference)</p>
</div>
<div id="side-effects" class="section level2">
<h2 class="hasAnchor">
<a href="#side-effects" class="anchor"></a>Side Effects</h2>
<p>A large reason for breaking out of a pipeline is to do actions such as plotting or providing feedback to the user. the <code>mpipe</code> package provides two functions that are particularly useful for avoiding leaving a pipeline. The way this is done is that the functions side effects are activated, but the functions return an untouched version of the data it was originally provided.</p>
<ul>
<li>
<code><a href="reference/pipe_qplot.html">pipe_qplot()</a></code> - allows the user to create <code>ggplot2</code> style plots using <code>qplot()</code> syntax (akin to the base R <code><a href="https://rdrr.io/r/base/plot.html">plot()</a></code> syntax)</li>
<li>
<code><a href="reference/pipe_cat.html">pipe_cat()</a></code> - allows the user to output information to the console (or any other sink) in the much the same way that <code><a href="https://rdrr.io/r/base/cat.html">cat()</a></code> does. Any calls/functions will be evaluated appropriately for this output.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb6"><pre class="r"><span class="no">iris</span> <span class="kw">%&gt;%</span>
  <span class="no">tibble</span> <span class="kw">%&gt;%</span>
  <span class="fu">select</span>(<span class="no">Species</span>,<span class="no">Sepal.Length</span>,<span class="no">Sepal.Width</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="reference/pipe_qplot.html">pipe_qplot</a></span>(<span class="no">Sepal.Length</span>,<span class="no">Sepal.Width</span>,<span class="kw">col</span><span class="kw">=</span><span class="no">Species</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="reference/pipe_cat.html">pipe_cat</a></span>(<span class="st">"Total Average Sepal.Length: "</span>,<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">Sepal.Length</span>),<span class="st">"\n"</span>) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">Species</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="reference/pipe_cat.html">pipe_cat</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="no">Species</span>),<span class="st">" Average Sepal.Length: "</span>,<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">Sepal.Length</span>),<span class="st">"\n"</span>) <span class="kw">%&gt;%</span>
  <span class="fu">summarise</span>(<span class="kw">Length_mean</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">Sepal.Length</span>),
            <span class="kw">Width_mean</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">Sepal.Width</span>))</pre></div>
<p><img src="reference/figures/README-side_effects_example-1.png" width="100%"></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">#&gt; Total Average Sepal.Length:  5.843333 </span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">#&gt; setosa  Average Sepal.Length:  5.006 </span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">#&gt; versicolor  Average Sepal.Length:  5.936 </span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">#&gt; virginica  Average Sepal.Length:  6.588</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">#&gt; # A tibble: 3 x 3</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">#&gt;   Species    Length_mean Width_mean</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt;   &lt;fct&gt;            &lt;dbl&gt;      &lt;dbl&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt; 1 setosa            5.01       3.43</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt; 2 versicolor        5.94       2.77</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#&gt; 3 virginica         6.59       2.97</span></span></code></pre></div>
</div>
<div id="control-flow" class="section level2">
<h2 class="hasAnchor">
<a href="#control-flow" class="anchor"></a>Control Flow</h2>
<p>One of the key aspects of programming is being able to manipulate which lines of code are ran and when. This manipulation is called “Control Flow” (i.e. you control the flow of the processes through your code). The two main methods of this are via branches and loops. Branches force our code to make a choice, where loops allow repetition of the same lines of code.</p>
<p>In traditional R (as in many other languages), Branching is performed using <code>if()</code> or <code><a href="https://rdrr.io/r/base/switch.html">switch()</a></code> statements, and can also be vectorised with functions such as <code>if_else()</code> and <code>case_when()</code>. Loops are implemented using the <code>for()</code>, <code>while()</code> and <code>repeat()</code> statements and can essentially be vectorised using the <code><a href="https://rdrr.io/r/base/apply.html">apply()</a></code> and <code>map()</code> families of functions.</p>
<div id="branches" class="section level3">
<h3 class="hasAnchor">
<a href="#branches" class="anchor"></a>Branches</h3>
<p>The <code><a href="reference/if_branch.html">if_branch()</a></code> and <code><a href="reference/switch_branch.html">switch_branch()</a></code> functions allow branching similar to <code>if()</code> and <code><a href="https://rdrr.io/r/base/switch.html">switch()</a></code> statements. The <code><a href="reference/if_branch.html">if_branch()</a></code> function chooses whether to proceed with the <code>fun</code> branch or the <code>elsefun</code> branch (if supplied) depending on how <code>predicate</code> is evaluated.</p>
<div class="sourceCode" id="cb8"><pre class="r"><span class="no">f</span> <span class="kw">&lt;-</span> <span class="no">.</span> <span class="kw">%&gt;%</span>
  <span class="fu">multiply_by</span>(<span class="fl">2</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="reference/if_branch.html">if_branch</a></span>(<span class="no">.</span> <span class="kw">%&gt;%</span> <span class="fu">equals</span>(<span class="fl">2</span>),
            <span class="no">.</span> <span class="kw">%&gt;%</span>
              <span class="fu">multiply_by</span>(<span class="fl">3</span>) <span class="kw">%&gt;%</span>
              <span class="fu">add</span>(<span class="fl">2</span>)) <span class="kw">%&gt;%</span>
  <span class="fu">multiply_by</span>(<span class="fl">2</span>)</pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">f</span>(<span class="dv">1</span>)<span class="op">:-</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="dv">1</span> <span class="op">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="st">  </span><span class="kw">multiply_by</span>(<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># =&gt; 1*2 = 2</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="st">  </span><span class="kw">if_branch</span>(. <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">equals</span>(<span class="dv">2</span>), <span class="co"># TRUE</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>            . <span class="op">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="st">              </span><span class="kw">multiply_by</span>(<span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># =&gt; 2*3 = 6</span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="st">              </span><span class="kw">add</span>(<span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># =&gt; 6+2 = 8</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="st">  </span><span class="kw">multiply_by</span>(<span class="dv">2</span>) <span class="co"># =&gt; 8*2 = 16</span></span>
<span id="cb9-9"><a href="#cb9-9"></a></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#&gt; [1] 16</span></span>
<span id="cb9-11"><a href="#cb9-11"></a></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="kw">f</span>(<span class="dv">2</span>)<span class="op">:-</span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="dv">2</span> <span class="op">%&gt;%</span></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="st">  </span><span class="kw">multiply_by</span>(<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># =&gt; 2*2 = 4</span></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="st">  </span><span class="kw">if_branch</span>(. <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">equals</span>(<span class="dv">2</span>), <span class="co"># FALSE</span></span>
<span id="cb9-16"><a href="#cb9-16"></a>            . <span class="op">%&gt;%</span></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="st">              </span><span class="kw">multiply_by</span>(<span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb9-18"><a href="#cb9-18"></a><span class="st">              </span><span class="kw">add</span>(<span class="dv">2</span>)) <span class="op">%&gt;%</span></span>
<span id="cb9-19"><a href="#cb9-19"></a><span class="st">  </span><span class="kw">multiply_by</span>(<span class="dv">2</span>) <span class="co"># =&gt; 4*2 = 8</span></span>
<span id="cb9-20"><a href="#cb9-20"></a></span>
<span id="cb9-21"><a href="#cb9-21"></a><span class="co">#&gt; [1] 8</span></span></code></pre></div>
<p>Similarly, the <code><a href="reference/switch_branch.html">switch_branch()</a></code> function allows us to expand on this by following a different path depending on the evaluation of <code>case</code></p>
<div class="sourceCode" id="cb10"><pre class="r"><span class="no">f</span> <span class="kw">&lt;-</span> <span class="no">.</span> <span class="kw">%&gt;%</span>
  <span class="fu">sample_n</span>(<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="no">.</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="reference/switch_branch.html">switch_branch</a></span>(<span class="no">.</span> <span class="kw">%&gt;%</span> <span class="co"># What Species ends up at the top row?</span>
                  <span class="fu">slice</span>(<span class="fl">1</span>) <span class="kw">%&gt;%</span> <span class="co">#Choose a path, based on that</span>
                  <span class="fu">pull</span>(<span class="st">"Species"</span>) <span class="kw">%&gt;%</span>
                  <span class="no">as.character</span>,
                <span class="kw">setosa</span> <span class="kw">=</span> <span class="no">.</span> <span class="kw">%&gt;%</span>
                  <span class="fu"><a href="reference/pipe_cat.html">pipe_cat</a></span>(<span class="st">"setosa was one top\n"</span>) <span class="kw">%&gt;%</span>
                  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">Species</span> <span class="kw">==</span> <span class="st">"setosa"</span>),
                <span class="kw">versicolor</span> <span class="kw">=</span> <span class="no">.</span> <span class="kw">%&gt;%</span>
                  <span class="fu"><a href="reference/pipe_cat.html">pipe_cat</a></span>(<span class="st">"versicolor was on top\n"</span>) <span class="kw">%&gt;%</span>
                  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">Species</span> <span class="kw">==</span> <span class="st">"versicolor"</span>),
                <span class="kw">virginica</span> <span class="kw">=</span> <span class="no">.</span> <span class="kw">%&gt;%</span>
                  <span class="fu"><a href="reference/pipe_cat.html">pipe_cat</a></span>(<span class="st">"virginica was on top\n"</span>) <span class="kw">%&gt;%</span>
                  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="no">Species</span> <span class="kw">==</span> <span class="st">"virginica"</span>)) <span class="kw">%&gt;%</span>
  <span class="fu">slice</span>(<span class="fl">1</span>)</pre></div>
<div class="sourceCode" id="cb11"><pre class="r"><span class="co">## Force the "random" shuffle to put a "virginica" Species is at the top</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">100</span>)
<span class="fu">f</span>(<span class="no">iris</span>)
<span class="co">#&gt; virginica was on top</span>
<span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width   Species</span>
<span class="co">#&gt; 1          5.8         2.7          5.1         1.9 virginica</span></pre></div>
<div class="sourceCode" id="cb12"><pre class="r"><span class="co">## Force the "random" shuffle to put a "verisicolor" Species is at the top</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">1000</span>)
<span class="fu">f</span>(<span class="no">iris</span>)
<span class="co">#&gt; versicolor was on top</span>
<span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width    Species</span>
<span class="co">#&gt; 1          5.8         2.7          4.1           1 versicolor</span></pre></div>
<div class="sourceCode" id="cb13"><pre class="r"><span class="co">## Force the "random" shuffle to put a "setosa" Species is at the top</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">10000</span>)
<span class="fu">f</span>(<span class="no">iris</span>)
<span class="co">#&gt; setosa was one top</span>
<span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="co">#&gt; 1          4.7         3.2          1.6         0.2  setosa</span></pre></div>
</div>
<div id="loops" class="section level3">
<h3 class="hasAnchor">
<a href="#loops" class="anchor"></a>Loops</h3>
<p>In terms of loops, we have the <code><a href="reference/while_pipe.html">while_pipe()</a></code> function which acts similar to a <code>while()</code> loop, but within a pipeline. It will repeatedly apply the <code>fun</code> argument to the <code>data</code> until <code>cond</code> is not <code>TRUE</code>. <code>cond</code> will be evaluated within the context of <code>data</code>. The <code><a href="reference/while_pipe.html">while_pipe()</a></code> function also provides a <code>.counter</code> pronoun to keep track of how many times the loop as been run (however any <code>cond</code> that evaluates to <code>TRUE</code> or <code>FALSE</code> similar to the <code><a href="reference/if_branch.html">if_branch()</a></code> function will work).</p>
<div class="sourceCode" id="cb14"><pre class="r"><span class="fu">tibble</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span>(<span class="fl">5</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="reference/while_pipe.html">while_pipe</a></span>(<span class="no">.counter</span> <span class="kw">&lt;=</span> <span class="fl">5</span>,
             <span class="no">.</span> <span class="kw">%&gt;%</span>
               <span class="fu">mutate</span>(!!<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"x_"</span>,<span class="no">.counter</span>) <span class="kw">:=</span> <span class="no">x</span> - <span class="no">x</span>[<span class="no">.counter</span>]))
<span class="co">#&gt; # A tibble: 5 x 6</span>
<span class="co">#&gt;        x    x_1   x_2    x_3    x_4    x_5</span>
<span class="co">#&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt; 1 0.795   0     0.772  0.133  0.241  0.342</span>
<span class="co">#&gt; 2 0.0230 -0.772 0     -0.638 -0.530 -0.430</span>
<span class="co">#&gt; 3 0.661  -0.133 0.638  0      0.108  0.208</span>
<span class="co">#&gt; 4 0.553  -0.241 0.530 -0.108  0      0.101</span>
<span class="co">#&gt; 5 0.453  -0.342 0.430 -0.208 -0.101  0</span></pre></div>
</div>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that the mpipe project is released with a <a href="https://michaelbarrowman.co.uk/mpipe/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/MyKo101/mpipe/">https://​github.com/​MyKo101/​mpipe/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Michael Barrowman <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-0718-4482" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/MyKo101/mpipe/actions"><img src="https://github.com/MyKo101/mpipe/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/MyKo101/mpipe?branch=master"><img src="https://codecov.io/gh/MyKo101/mpipe/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Michael Barrowman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
